var $media=function(){"use strict";class t{query;triggers=["resize","DOMContentLoaded","load"];debounceTimer=0;isMatched=null;handlers=[];constructor(t){this.query=t,this._attach()}match(t){return this.on("match",t),this}unmatch(t){return this.on("unmatch",t),this}watch(t){return this.on("watch",t),this}on(t,e){return this.handlers.push({eventName:t,callback:e}),this}_attach(){for(let t=0;t<this.triggers.length;t++)window.addEventListener(this.triggers[t],(()=>{window.cancelAnimationFrame(this.debounceTimer),this.debounceTimer=window.requestAnimationFrame(this._test.bind(this))}));return this}_test(){const t=window.matchMedia(this.query).matches;t!==this.isMatched&&this._dispatch("watch",t),t&&!this.isMatched?(this.isMatched=!0,this._dispatch("match",t)):t||!1===this.isMatched||(this.isMatched=!1,this._dispatch("unmatch",t))}_dispatch(t,e){this.handlers.filter(((i,s)=>i.eventName===t&&(i.callback({eventName:t,index:s,isMatched:e,callback:i.callback,query:this.query}),!0)))}}return function(e){return new t(e)}}();
